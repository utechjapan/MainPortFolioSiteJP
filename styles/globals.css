/* styles/globals.css */
@import url("https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap");

@tailwind base;
@tailwind components;
@tailwind utilities;

/* Base Styles */
@layer base {
  html {
    @apply scroll-smooth;
    font-size: 16px; /* Base font size */
  }
  
  body {
    @apply bg-light-bg dark:bg-dark-bg text-gray-900 dark:text-gray-300 transition-colors duration-300;
    font-family: "Inter", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif;
    overflow-x: hidden;
    margin: 0;
    padding: 0;
  }
  
  ::selection {
    @apply bg-primary/30 text-gray-900 dark:text-white;
  }
  
  img {
    @apply max-w-full h-auto;
  }
  
  * {
    @apply box-border;
  }
  
  strong, b {
    @apply text-gray-900 dark:text-gray-100;
  }
  
  .fas,
  .fa-solid,
  .far,
  .fa-regular,
  .fab,
  .fa-brands {
    display: inline-block !important;
    font-style: normal !important;
  }
}

/* Component Styles */
@layer components {
  /* Blog content container for better mobile reading */
  .blog-content-container {
    max-width: 100%;
    margin: 0 auto;
    padding: 0 8px; /* minimal side padding */
    line-height: 1.6;
    font-size: 1rem;
  }
  
  /* Headings */
  h1 {
    font-size: 2rem;
    margin-bottom: 1rem;
    @apply text-gray-900 dark:text-white;
  }
  h2 {
    font-size: 1.5rem;
    margin-bottom: 0.75rem;
    @apply text-gray-900 dark:text-white;
  }
  h3 {
    font-size: 1.25rem;
    margin-bottom: 0.5rem;
    @apply text-gray-900 dark:text-white;
  }
  
  /* Paragraphs and Lists */
  p {
    margin-bottom: 1rem;
    @apply text-gray-700 dark:text-gray-300;
  }
  ul,
  ol {
    margin-left: 1rem; /* reduce default indent */
    margin-bottom: 1rem;
    list-style-position: inside;
    @apply text-gray-700 dark:text-gray-300;
  }
  li {
    margin-bottom: 0.5rem;
    @apply text-gray-700 dark:text-gray-300;
  }
  
  /* Ensure all text elements respect dark mode */
  p, span, li, td, th, blockquote {
    @apply text-gray-700 dark:text-gray-300 transition-colors;
  }
  
  /* For mobile screens, reduce font sizes and spacing */
  @media (max-width: 768px) {
    .blog-content-container {
      padding: 0 4px;
      font-size: 0.95rem;
      line-height: 1.5;
    }
    h1 {
      font-size: 1.75rem;
      margin-bottom: 0.75rem;
    }
    h2 {
      font-size: 1.4rem;
      margin-bottom: 0.65rem;
    }
    h3 {
      font-size: 1.2rem;
      margin-bottom: 0.5rem;
    }
    ul,
    ol {
      margin-left: 0.75rem;
    }
    li {
      margin-bottom: 0.4rem;
    }
  }
  
  /* Button styles (if used anywhere) */
  .btn {
    @apply inline-flex items-center justify-center px-4 py-2 rounded-md font-medium transition-colors;
  }
  .btn-primary {
    @apply bg-primary hover:bg-primary-dark text-white;
  }
  .btn-secondary {
    @apply bg-gray-200 dark:bg-dark-sidebar hover:bg-gray-300 dark:hover:bg-dark-card text-gray-900 dark:text-white;
  }
  .btn-outline {
    @apply border border-primary text-primary hover:bg-primary hover:text-white;
  }
  
  /* Floating buttons positioning */
  .floating-share-button {
    position: fixed;
    bottom: 20px;
    right: 20px;
    z-index: 100;
  }
  
  /* Enhanced code block experience */
  pre {
    @apply rounded-lg overflow-x-auto mb-6 py-6 transition-colors;
    position: relative;
  }
  
  code {
    @apply font-mono text-sm;
  }
}

/* Utilities */
@layer utilities {
  /* Remove extra container padding on mobile */
  @media (max-width: 768px) {
    .container {
      padding: 0;
    }
  }
  
  /* Improved readability for blog content */
  .blog-text {
    @apply leading-relaxed text-base sm:text-lg;
  }
  
  /* Fix for bracketed text in dark mode */
  .dark [class*="text-"] span,
  .dark p span,
  .dark li span,
  .dark td span,
  .dark th span,
  .dark blockquote span,
  .dark div span {
    @apply text-gray-300 !important;
  }
}

/* Specific dark mode fixes for bracket content and text */
.dark .prose,
.dark .prose p,
.dark .prose span,
.dark .prose strong,
.dark .prose em,
.dark .prose li,
.dark .prose ul,
.dark .prose ol,
.dark .prose blockquote,
.dark .prose h1,
.dark .prose h2,
.dark .prose h3,
.dark .prose h4,
.dark .prose h5,
.dark .prose h6,
.dark .prose th,
.dark .prose td,
.dark [class*="text-"] {
  @apply text-gray-300 !important;
}

/* Keep links with the primary color */
.dark .prose a:not(.anchor) {
  @apply text-primary !important;
}

/* Fix for bracketed texts like [具体的な取り組み] in dark mode */
.dark span,
.dark p > span,
.dark li > span,
.dark td > span,
.dark th > span,
.dark blockquote > span,
.dark div > span {
  color: #d1d5db !important;
}

/* Image display improvements */
.blog-image {
  @apply rounded-lg shadow-md dark:shadow-gray-800;
  max-width: 100%;
  height: auto;
  margin: 1.5rem auto;
}

/* Table improvements */
table {
  @apply w-full border-collapse my-6;
}

th, td {
  @apply border border-gray-300 dark:border-gray-700 px-4 py-2 text-left;
}

th {
  @apply bg-gray-100 dark:bg-gray-800;
}